<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store Base - Login</title>
    
    <!-- Theme CSS -->
    <link rel="stylesheet" href="../../core/themes/toss-variables.css">
    <link rel="stylesheet" href="../../core/themes/toss-component-variables.css">
    <link rel="stylesheet" href="../../core/themes/toss-base.css">
    <link rel="stylesheet" href="../../core/themes/toss-typography.css">
    
    <!-- Component CSS -->
    <link rel="stylesheet" href="../../components/base/toss-button.css">
    <link rel="stylesheet" href="../../components/form/toss-input.css">
    <link rel="stylesheet" href="../../components/form/toss-select.css">
    <link rel="stylesheet" href="../../components/feedback/toss-alert.css">
    
    <!-- Page Specific Styles -->
    <link rel="stylesheet" href="assets/login.css">
    
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
</head>
<body>
    <div class="login-container">
        <div class="login-card">
            <!-- Header -->
            <div class="login-header">
                <div class="login-logo" id="loginLogo">
                    <img src="../../assets/app icon.png" alt="Store Base Logo">
                </div>
                <h1 class="login-title">Welcome to Store Base</h1>
                <p class="login-subtitle">Sign in to manage your store</p>
            </div>
            
            
            <!-- Error Alert Container -->
            <div id="login-alerts"></div>
            
            <!-- Login Form -->
            <form class="login-form" id="loginForm">
                <div class="toss-input-group">
                    <label for="email" class="toss-label required">Email Address</label>
                    <div class="toss-input-wrapper">
                        <svg class="toss-input-icon-left" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                        </svg>
                        <input 
                            type="email" 
                            id="email" 
                            name="email"
                            class="toss-input toss-input-with-icon-left" 
                            placeholder="Enter your email address"
                            required
                            autocomplete="email"
                        >
                    </div>
                    <span class="toss-input-message" id="email-error"></span>
                </div>
                
                <div class="toss-input-group">
                    <label for="password" class="toss-label required">Password</label>
                    <div class="toss-input-wrapper">
                        <input 
                            type="password" 
                            id="password" 
                            name="password"
                            class="toss-input toss-input-with-icon-right" 
                            placeholder="Enter your password"
                            required
                            autocomplete="current-password"
                            minlength="6"
                        >
                        <button type="button" class="toss-input-icon" onclick="togglePasswordVisibility('password', this)">
                            <svg class="eye-open" width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 3C5 3 1.73 7.11 1 10c.73 2.89 4 7 9 7s8.27-4.11 9-7c-.73-2.89-4-7-9-7z"/>
                                <circle cx="10" cy="10" r="3"/>
                            </svg>
                            <svg class="eye-closed" width="20" height="20" viewBox="0 0 20 20" fill="currentColor" style="display: none;">
                                <path d="M2 2l16 16M6.71 6.71A9.78 9.78 0 0010 6c5 0 8.27 4.11 9 7a13.16 13.16 0 01-1.67 2.68"/>
                                <path d="M12 12a3 3 0 11-4.24-4.24"/>
                                <path d="M6.61 6.61A13.526 13.526 0 001 10s3.27 7 9 7a9.74 9.74 0 005.39-1.61"/>
                            </svg>
                        </button>
                    </div>
                    <span class="toss-input-message" id="password-error"></span>
                </div>
                
                <!-- Remember Me Checkbox -->
                <div class="toss-input-group" style="margin-bottom: 20px;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <input 
                            type="checkbox" 
                            id="rememberMe" 
                            name="rememberMe"
                            style="width: 18px; height: 18px; cursor: pointer;"
                        >
                        <label for="rememberMe" style="cursor: pointer; color: var(--text-secondary); font-size: 14px;">
                            Remember me (Stay logged in on this device)
                        </label>
                    </div>
                </div>
                
                <div class="login-actions">
                    <button type="submit" class="toss-btn toss-btn-primary toss-btn-lg toss-btn-full" id="loginButton">
                        <span class="btn-text">Sign In</span>
                    </button>
                    
                    
                    <div class="forgot-password">
                        <a href="#" onclick="handleForgotPassword()">Forgot your password?</a>
                    </div>
                </div>
            </form>
            
            <div class="login-divider">
                <span>Or</span>
            </div>
            
            <!-- Sign Up Option -->
            <div class="login-actions">
                <button type="button" class="toss-btn toss-btn-outline toss-btn-lg toss-btn-full" onclick="toggleSignUpMode()">
                    Create New Account
                </button>
            </div>
            
            <!-- Footer -->
            <div class="login-footer">
                <p style="font-size: var(--font-small); color: var(--text-tertiary);">
                    By signing in, you agree to our 
                    <a href="#">Terms of Service</a> and 
                    <a href="#">Privacy Policy</a>
                </p>
            </div>
        </div>
    </div>
    
    <!-- Toast Container -->
    <div id="toast-container" class="toss-toast-container"></div>
    
    <!-- Component JavaScript -->
    <script src="../../components/base/toss-button.js"></script>
    <script src="../../components/form/toss-input.js"></script>
    <script src="../../components/form/toss-select.js"></script>
    <script src="../../components/feedback/toss-alert.js"></script>
    
    <!-- Core Path Resolver (must be loaded first) -->
    <script src="../../core/utils/path-resolver.js"></script>
    
    <!-- App Icons -->
    <script src="../../core/constants/app-icons.js"></script>
    
    <!-- Storage Manager -->
    <script src="../../core/utils/storage-manager.js"></script>
    
    <!-- Supabase Configuration -->
    <script src="../../core/config/supabase.js"></script>
    
    <!-- Page Specific JavaScript -->
    <script src="assets/login.js"></script>
    
</body>
</html>